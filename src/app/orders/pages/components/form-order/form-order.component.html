<ng-container *ngIf="clients?.length">
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="form-group">
      <label for="typePresta"> type </label>
      <input type="text" class="form-control" formControlName="typePresta" id="typePresta"/>
  
      @if(form.controls['typePresta'].invalid && form.controls['typePresta'].touched) {
        <div class="alert alert-danger">
          Champ invalide
        </div>
      }
    </div>
    
  
    <div class="form-group">
      <label for="client"> client </label>
  
      <select class="form-control" formControlName="client" id="client">
        @for (client of clients; track client.id) {
          <option [selected]="selectedClientName === client.state" [value]="client.name"> 
            {{ client.name }} 
          </option>
        }
      </select>
    </div>
    
    <div class="form-group">
      <label for="nbJours"> nbJours </label>
      <input type="number" class="form-control" formControlName="nbJours" id="nbJours"/>
    </div>
    
    <div class="form-group">
      <label for="tjmHt"> tjmHt </label>
      <input type="number" class="form-control" formControlName="tjmHt" id="tjmHt"/>
    </div>
    
    <div class="form-group">
      <label for="tva"> tva </label>
      <input type="number" class="form-control" formControlName="tva" id="tva" />
    </div>
    
    <div class="form-group">
      <label for="state"> state </label>
      <select class="form-control" id="state" formControlName="state">
        @for (state of states; track $index) {
          <option [selected]="selectedState === state" [value]="state"> 
            {{ state }} 
          </option>
        }
      </select>
    </div>
    
    <div class="form-group">
      <label for="comment"> comment </label>
      <textarea class="form-control" id="comment" formControlName="comment" form> </textarea>
    </div>
    
    <button type="submit" class="btn btn-primary" [disabled]="form.invalid"> Submit </button>
  </form>
</ng-container>